<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cauliflower Debug Viewer</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="header">
        <h1 class="pixelated-title">ðŸ¥¦ CauliScope</h1>
        <p class="subtitle">The Cauliflower Debugger</p>
    </div>
    
    <!-- Tab navigation -->
    <div class="tabs">
        <button class="tab-button active" onclick="openTab(event, 'images')">Images</button>
        <button class="tab-button" onclick="openTab(event, 'testing')">Testing</button>
    </div>
    
    <!-- Images tab content -->
    <div id="images" class="tab-content active">
        <div class="controls-bar">
            <button id="clear-dir-btn" onclick="clearDirectory()" class="danger-btn">Clear All Images</button>
            <button id="refresh-btn" onclick="loadImages(1)" class="primary-btn">Refresh</button>
            <span id="image-count" class="info-text"></span>
        </div>
        <div id="image-grid" class="grid-container"></div>
        <div id="loader" class="loader" style="display: none;">Loading...</div>
    </div>
    
    <!-- Testing tab content -->
    <div id="testing" class="tab-content" style="display: none;">
        <div class="test-controls">
            <h2>Run Test</h2>
            <div class="control-group">
                <label for="video-select">Video:</label>
                <select id="video-select">
                    <option value="">Loading videos...</option>
                </select>
            </div>
            <div class="control-group">
                <label for="sport-select">Sport:</label>
                <select id="sport-select">
                    <option value="basketball">Basketball</option>
                    <option value="bowling">Bowling</option>
                    <option value="cricket">Cricket</option>
                    <option value="pickleball">Pickleball</option>
                </select>
            </div>
            <div class="control-group">
                <label for="confidence-input">Confidence:</label>
                <input type="number" id="confidence-input" value="0.15" min="0.01" max="1" step="0.01">
            </div>
            <div class="control-group">
                <label for="save-images-check">Save Images:</label>
                <input type="checkbox" id="save-images-check" checked>
                <span style="font-size: 12px; color: #666; margin-left: 10px">
                    (Disable for faster performance)
                </span>
            </div>
            <button id="run-test-btn" onclick="runTest()">Run Test</button>
        </div>
        
        <div class="test-output">
            <h3>Test Output</h3>
            <pre id="test-console"></pre>
        </div>
        
        <div class="test-results">
            <h3>Test Results</h3>
            <div id="results-filter">
                <label>Filter by type:</label>
                <button class="filter-btn active" data-filter="all">All</button>
                <button class="filter-btn" data-filter="SHOT">Shots</button>
                <button class="filter-btn" data-filter="L1">L1 Frames</button>
                <button class="filter-btn" data-filter="L2">L2 Frames</button>
                <button class="filter-btn" data-filter="BALL">Cropped Balls</button>
            </div>
            <div id="test-images" class="grid-container"></div>
        </div>
        
        <div class="test-history">
            <h3>Recent Tests</h3>
            <div id="test-history-list"></div>
        </div>
    </div>

    <script src="script.js"></script>
    <script src="testing.js"></script>
</body>
</html>